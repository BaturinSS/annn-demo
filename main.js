/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._container=document.querySelector("#indicatorPageReviews")}var n,r;return n=t,(r=[{key:"setItem",value:function(e){this._container.append(e)}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selectorTemplate="#indicator-template",this._selectorContent=".reviews__radio-label",this._handleClickIndicator=t}var t,r;return t=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._selectorTemplate).content.querySelector(this._selectorContent).cloneNode(!0)}},{key:"generateIndicator",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.addEventListener("mousedown",(function(t){return e._handleClickIndicator(t)}))}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();const o=r;function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__close")||t.target.classList.contains("popup__image-cross"))&&e.close()}))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}new(function(){function e(t){var n=t.baseUrl,r=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=r}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject(e.json())}},{key:"sendingFormMessage",value:function(e){return fetch(this._baseUrl,{method:"POST",headers:this._headers,body:e}).then(this._checkResponse)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())({baseUrl:"",headers:{authorization:"ef26a870-ce14-4ae0-b138-67948bcf24ea","Content-Type":"multipart/form-data"}});const s=[{foto:"https://dirksen-lawyer.ru/wp-content/uploads/2017/08/Investment-management-lawyers-benefit-from-regulatory-burden-.jpg",name:"Рябинина Людмила Михайловна1",age:"59 лет",experience:"27 лет",transactions:"67"},{foto:"https://ruadvocate.ru/wp-content/uploads/2021/12/Voprosy-yuristu-0.jpg",name:"Рябинина Людмила Михайловна2",age:"59 лет",experience:"27 лет",transactions:"67"},{foto:"https://www.factroom.ru/wp-content/uploads/2017/06/Depositphotos_23285972_l-2015.jpg",name:"Рябинина Людмила Михайловна3",age:"59 лет",experience:"27 лет",transactions:"67"},{foto:"https://smartagent.ru/images/page/137/a66931f3.jpg",name:"Рябинина Людмила Михайловна4",age:"59 лет",experience:"27 лет",transactions:"67"},{foto:"https://pic.rutubelist.ru/video/6c/a1/6ca15839bf1648523812def185cc276e.jpg",name:"Рябинина Людмила Михайловна5",age:"59 лет",experience:"27 лет",transactions:"67"},{foto:"https://www.vsnr.ru/upload/iblock/79a/79a30397270ff32ccde66a24897c7624.jpg",name:"Рябинина Людмила Михайловна6",age:"59 лет",experience:"27 лет",transactions:"67"},{foto:"../../../images/agent/agent_foto.png",name:"Рябинина Людмила Михайловна7",age:"59 лет",experience:"27 лет",transactions:"67"}];var u=document.querySelector(".header__menu"),l=document.querySelector(".header__links"),d=document.querySelectorAll(".link"),f=document.querySelector(".feedback__input-error"),p=Array.from(document.querySelectorAll(".feedback__checkbox_input")),v=document.querySelector(".feedback__button-submit"),_=document.querySelector(".feedback__form"),m=document.querySelector(".reviews__left"),h=document.querySelector(".reviews__right"),y=document.querySelector(".reviews__number"),g=document.querySelector(".reviews__quantity"),b=Array.from(document.querySelectorAll(".reviews__item")),w=document.querySelector(".insurance__foto"),k=document.querySelectorAll(".foto__button"),E=document.querySelector("#agentFoto"),q=document.querySelector("#agentName"),L=document.querySelector("#agentAge"),S=document.querySelector("#agentExperience"),C=document.querySelector("#agentTransactions"),A=4,x=1,j=new t(M,".reviews__list"),P=new a(".popup_type_image-zoom"),T=new a(".popup_type_play-video"),I=new a(".popup_type_message"),O=function(){T.open()};function D(){b.forEach((function(e){0==e.classList.contains("reviews__item_visible")&&e.classList.add("reviews__item_visible")}));for(var e=Number(x*A),t=Number(e-A);t<e;t++)b[t].classList.remove("reviews__item_visible")}var N,B=function(e){e.disabled=!0,e.classList.remove("reviews_actived")},R=function(e){e.disabled=!1,e.classList.add("reviews_actived")},U=function(e){1==x&&B(m),x==b.length/A&&B(h),(2==x&&1==m.disabled||e)&&R(m),(x==b.length/A-1&&1==h.disabled||e)&&R(h)},z=function(e){var t=e.currentTarget.querySelector(".reviews__radio-input");x=Number(t.value),V(),D(),U(!0)},F=function(e){var t=new o(z).generateIndicator();t.setAttribute("for","reviewsPage-".concat(e));var n=t.querySelector(".reviews__radio-input");return n.id="reviewsPage-".concat(e),n.value="".concat(e),1==n.value&&n.setAttribute("checked",!0),t},M=function(e){for(var t=0;t<e;t++)j.setItem(F(t+1))},H=function(){var e=Math.ceil(b.length/A),t=Array.from(document.querySelectorAll(".reviews__radio-label"));t.length!=e&&(x=1,V(),D(),function(e){0!=e&&e.forEach((function(e){e.remove()}))}(t),M(e))},V=function(){y.textContent="".concat((x-1)*A+1," - ").concat(x*A),g.textContent=b.length},W=function(){document.documentElement.clientWidth<1050?(function(){for(var e=Array.from(document.querySelectorAll(".reviews__avatar")),t=1;t<e.length;t+=2)e[t].classList.add("reviews__avatar_right")}(),A=2,H()):(function(){for(var e=Array.from(document.querySelectorAll(".reviews__avatar")),t=1;t<e.length;t+=2)e[t].classList.remove("reviews__avatar_right")}(),A=4,H())},Y=function(){G()?(f.classList.add("feedback__input-error_disabled"),v.removeAttribute("disabled")):(f.classList.remove("feedback__input-error_disabled"),v.setAttribute("disabled",!0))},G=function(){return p.find((function(e){return!0===e.checked}))};W(),Y(),function(e){e.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),l.classList.remove("header__links_activ"),function(e){var t=e.getAttribute("href").substring(1),n=document.getElementById(t),r=document.querySelector(".scrollto").offsetHeight,o=n.getBoundingClientRect().top-r;window.scrollBy({top:o,behavior:"smooth"})}(e),function(e){var t=e.parentElement.querySelector(".card__title");t&&(document.getElementById("service-".concat(t.id)).setAttribute("checked","true"),Y())}(e)}))}))}(d),V(),H(),document.addEventListener("DOMContentLoaded",(function(){window.onresize=function(){W()}})),D(),U(!1),h.addEventListener("click",(function(){if(x<g.textContent/A){var e=document.querySelector("#reviewsPage-".concat(x));document.querySelector("#reviewsPage-".concat(x+1)).checked=!0,e.checked=!1,x+=1,V(),U(!1),D()}})),m.addEventListener("click",(function(){if(x>1){var e=document.querySelector("#reviewsPage-".concat(x));document.querySelector("#reviewsPage-".concat(x-1)).checked=!0,e.checked=!1,x-=1,V(),U(!1),D()}})),u.addEventListener("click",(function(){l.classList.toggle("header__links_activ")})),_.addEventListener("submit",(function(e){e.preventDefault(),I.open(),_.reset(),Y()})),p.forEach((function(e){e.addEventListener("input",(function(){Y()}))})),w.addEventListener("click",(function(e){e.target==w&&P.open()})),P.setEventListeners(),k.forEach((function(e){e.addEventListener("click",O)})),T.setEventListeners(),I.setEventListeners(),N=(new Date).getDay(),E.style.backgroundImage="url('".concat(s[N].foto,"')"),q.textContent=s[N].name,L.textContent=s[N].age,S.textContent=s[N].experience,C.textContent=s[N].transactions,document.querySelector(".footer__copyright").textContent="© 2022 - ".concat((new Date).getFullYear(),". Батурин Сергей")})();