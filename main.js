/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}const t=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._container=document.querySelector("#indicatorPageReviews")}var n,o;return n=t,(o=[{key:"setItem",value:function(e){this._container.append(e)}}])&&e(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selectorTemplate="#indicator-template",this._selectorContent=".reviews__radio-label",this._handleClickIndicator=t}var t,o;return t=e,(o=[{key:"_getTemplate",value:function(){return document.querySelector(this._selectorTemplate).content.querySelector(this._selectorContent).cloneNode(!0)}},{key:"generateIndicator",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.addEventListener("mousedown",(function(t){return e._handleClickIndicator(t)}))}}])&&n(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();const r=o;function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}const a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selectorTemplate=t,this._container=document.querySelector(".root"),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._selectorTemplate).content.querySelector(".popup").cloneNode(!0)}},{key:"_generatePopup",value:function(){return this._popup=this._getTemplate(),this._setEventListeners(),this._popup}},{key:"setPopup",value:function(){this._container.append(this._generatePopup())}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__close")||t.target.classList.contains("popup__image-cross"))&&e.close()}))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}new(function(){function e(t){var n=t.baseUrl,o=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=o}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject(e.json())}},{key:"sendingFormMessage",value:function(e){return fetch(this._baseUrl,{method:"POST",headers:this._headers,body:e}).then(this._checkResponse)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())({baseUrl:"",headers:{authorization:"ef26a870-ce14-4ae0-b138-67948bcf24ea","Content-Type":"multipart/form-data"}});const s=[{foto:"https://dirksen-lawyer.ru/wp-content/uploads/2017/08/Investment-management-lawyers-benefit-from-regulatory-burden-.jpg",name:"Рябинина Людмила Михайловна1",age:"59 лет",experience:"27 лет",transactions:"67"},{foto:"https://ruadvocate.ru/wp-content/uploads/2021/12/Voprosy-yuristu-0.jpg",name:"Рябинина Людмила Михайловна2",age:"59 лет",experience:"27 лет",transactions:"67"},{foto:"https://www.factroom.ru/wp-content/uploads/2017/06/Depositphotos_23285972_l-2015.jpg",name:"Рябинина Людмила Михайловна3",age:"59 лет",experience:"27 лет",transactions:"67"},{foto:"https://smartagent.ru/images/page/137/a66931f3.jpg",name:"Рябинина Людмила Михайловна4",age:"59 лет",experience:"27 лет",transactions:"67"},{foto:"https://pic.rutubelist.ru/video/6c/a1/6ca15839bf1648523812def185cc276e.jpg",name:"Рябинина Людмила Михайловна5",age:"59 лет",experience:"27 лет",transactions:"67"},{foto:"https://www.vsnr.ru/upload/iblock/79a/79a30397270ff32ccde66a24897c7624.jpg",name:"Рябинина Людмила Михайловна6",age:"59 лет",experience:"27 лет",transactions:"67"},{foto:"../../../images/agent/agent_foto.png",name:"Рябинина Людмила Михайловна7",age:"59 лет",experience:"27 лет",transactions:"67"}];var u=document.querySelector(".header__menu"),l=document.querySelector(".header__links"),d=document.querySelectorAll(".link"),p=document.querySelector(".feedback__input-error"),f=Array.from(document.querySelectorAll(".feedback__checkbox_input")),_=document.querySelector(".feedback__button-submit"),m=document.querySelector(".feedback__form"),v=document.querySelector(".reviews__left"),h=document.querySelector(".reviews__right"),y=document.querySelector(".reviews__number"),g=document.querySelector(".reviews__quantity"),b=Array.from(document.querySelectorAll(".reviews__item")),w=document.querySelector(".insurance__foto"),k=document.querySelectorAll(".foto__button"),q=document.querySelector("#agentFoto"),S=document.querySelector("#agentName"),E=document.querySelector("#agentAge"),L=document.querySelector("#agentExperience"),C=document.querySelector("#agentTransactions"),P=4,A=1,x=new t(z,".reviews__list"),j=new a("#popupImageZoom"),T=new a("#popupPlayVideo"),I=new a("#popupMessage"),O=function(){T.open()};function D(){b.forEach((function(e){0==e.classList.contains("reviews__item_visible")&&e.classList.add("reviews__item_visible")}));for(var e=Number(A*P),t=Number(e-P);t<e;t++)b[t].classList.remove("reviews__item_visible")}var N,B=function(e){e.disabled=!0,e.classList.remove("reviews_actived")},M=function(e){e.disabled=!1,e.classList.add("reviews_actived")},R=function(e){1==A&&B(v),A==b.length/P&&B(h),(2==A&&1==v.disabled||e)&&M(v),(A==b.length/P-1&&1==h.disabled||e)&&M(h)},U=function(e){var t=e.currentTarget.querySelector(".reviews__radio-input");A=Number(t.value),H(),D(),R(!0)},F=function(e){var t=new r(U).generateIndicator();t.setAttribute("for","reviewsPage-".concat(e));var n=t.querySelector(".reviews__radio-input");return n.id="reviewsPage-".concat(e),n.value="".concat(e),1==n.value&&n.setAttribute("checked",!0),t},z=function(e){for(var t=0;t<e;t++)x.setItem(F(t+1))},V=function(){var e=Math.ceil(b.length/P),t=Array.from(document.querySelectorAll(".reviews__radio-label"));t.length!=e&&(A=1,H(),D(),function(e){0!=e&&e.forEach((function(e){e.remove()}))}(t),z(e))},H=function(){y.textContent="".concat((A-1)*P+1," - ").concat(A*P),g.textContent=b.length},W=function(){document.documentElement.clientWidth<1050?(function(){for(var e=Array.from(document.querySelectorAll(".reviews__avatar")),t=1;t<e.length;t+=2)e[t].classList.add("reviews__avatar_right")}(),P=2,V()):(function(){for(var e=Array.from(document.querySelectorAll(".reviews__avatar")),t=1;t<e.length;t+=2)e[t].classList.remove("reviews__avatar_right")}(),P=4,V())},Y=function(){Z()?(p.classList.add("feedback__input-error_disabled"),_.removeAttribute("disabled")):(p.classList.remove("feedback__input-error_disabled"),_.setAttribute("disabled",!0))},Z=function(){return f.find((function(e){return!0===e.checked}))};W(),Y(),function(e){e.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),l.classList.remove("header__links_activ"),function(e){var t=e.getAttribute("href").substring(1),n=document.getElementById(t),o=document.querySelector(".scrollto").offsetHeight,r=n.getBoundingClientRect().top-o;window.scrollBy({top:r,behavior:"smooth"})}(e),function(e){var t=e.parentElement.querySelector(".card__title");t&&(document.getElementById("service-".concat(t.id)).setAttribute("checked","true"),Y())}(e)}))}))}(d),H(),V(),document.addEventListener("DOMContentLoaded",(function(){window.onresize=function(){W()}})),D(),R(!1),h.addEventListener("click",(function(){if(A<g.textContent/P){var e=document.querySelector("#reviewsPage-".concat(A));document.querySelector("#reviewsPage-".concat(A+1)).checked=!0,e.checked=!1,A+=1,H(),R(!1),D()}})),v.addEventListener("click",(function(){if(A>1){var e=document.querySelector("#reviewsPage-".concat(A));document.querySelector("#reviewsPage-".concat(A-1)).checked=!0,e.checked=!1,A-=1,H(),R(!1),D()}})),u.addEventListener("click",(function(){l.classList.toggle("header__links_activ")})),m.addEventListener("submit",(function(e){e.preventDefault(),I.open(),m.reset(),Y()})),f.forEach((function(e){e.addEventListener("input",(function(){Y()}))})),w.addEventListener("click",(function(e){e.target==w&&j.open()})),k.forEach((function(e){e.addEventListener("click",O)})),N=(new Date).getDay(),q.style.backgroundImage="url('".concat(s[N].foto,"')"),S.textContent=s[N].name,E.textContent=s[N].age,L.textContent=s[N].experience,C.textContent=s[N].transactions,document.querySelector(".footer__copyright").textContent="© 2022 - ".concat((new Date).getFullYear(),". Батурин Сергей"),setTimeout((function(){I.setPopup(),j.setPopup(),T.setPopup()}),3e3)})();